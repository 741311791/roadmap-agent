# Celery Worker æ•°æ®åº“è¿æ¥æ± è€—å°½ä¿®å¤

**æ—¥æœŸ**: 2025-01-01  
**ç±»å‹**: Critical Bug Fix  
**å½±å“èŒƒå›´**: Celery Content Generation Worker

---

## é—®é¢˜æè¿°

### è§¦å‘åœºæ™¯
ç”¨æˆ·åœ¨è·¯çº¿å›¾è¯¦æƒ…é¡µæµè§ˆ Concept æ—¶ï¼Œé¢‘ç¹åˆ‡æ¢å¯¼è‡´åç«¯æŠ¥é”™ï¼š
```
asyncpg.exceptions.TooManyConnectionsError: sorry, too many clients already
```

### é”™è¯¯å®šä½
é”™è¯¯å‘ç”Ÿåœ¨ **Celery Worker** çš„å†…å®¹ç”Ÿæˆä»»åŠ¡ä¸­ï¼Œè€Œé FastAPI åº”ç”¨ã€‚

---

## æ ¹æœ¬åŸå› åˆ†æï¼ˆç¬¬ä¸€æ€§åŸç†ï¼‰

### é—®é¢˜é“¾æ¡

1. **å¹¶å‘æ¨¡å‹ç¼ºé™·**
   - `_generate_content_parallel()` ä½¿ç”¨ `asyncio.gather(*tasks)` æ— é™åˆ¶å¹¶å‘æ‰§è¡Œæ‰€æœ‰ Concept ç”Ÿæˆä»»åŠ¡
   - 30 ä¸ª Concept â†’ 30 ä¸ªå¹¶å‘ä»»åŠ¡ â†’ æ¯ä¸ªä»»åŠ¡åœ¨ `generate_single_concept()` ç¬¬ 223 è¡Œæ‰“å¼€ç‹¬ç«‹çš„æ•°æ®åº“ä¼šè¯

2. **è¿æ¥æ± å®¹é‡ä¸è¶³**
   ```python
   # backend/app/config/settings.pyï¼ˆä¿®å¤å‰ï¼‰
   DB_POOL_SIZE = 40  # æœ¬åœ°å¼€å‘
   DB_MAX_OVERFLOW = 20
   # æ€»è¿æ¥æ•° = 60
   ```
   
   ä½†å®é™…åœºæ™¯ï¼š
   - 30 ä¸ª Concept å¹¶å‘ç”Ÿæˆ = 30 ä¸ªæ•°æ®åº“ä¼šè¯
   - FastAPI åº”ç”¨ä¹Ÿåœ¨ä½¿ç”¨è¿æ¥æ± ï¼ˆæŸ¥è¯¢è·¯çº¿å›¾ç­‰ï¼‰
   - Celery Worker å¯èƒ½è¿è¡Œå¤šä¸ªä»»åŠ¡
   - **æ€»éœ€æ±‚ > 60 â†’ è¿æ¥æ± è€—å°½**

3. **ç¼ºå°‘å¹¶å‘æ§åˆ¶**
   - æ— ä¿¡å·é‡é™åˆ¶å¹¶å‘æ•°æ®åº“æ“ä½œæ•°
   - æ— è¯·æ±‚å–æ¶ˆæ—¶çš„è¿æ¥æ¸…ç†ä¿æŠ¤

---

## ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤ 1: æ·»åŠ æ•°æ®åº“å¹¶å‘æ§åˆ¶ï¼ˆæ ¸å¿ƒä¿®å¤ï¼‰

**æ–‡ä»¶**: `backend/app/tasks/content_generation_tasks.py`

#### ä¿®æ”¹å‰
```python
async def _generate_content_parallel(...):
    tasks = [generate_single_concept(...) for concept in concepts]
    await asyncio.gather(*tasks, return_exceptions=True)
```
âŒ **é—®é¢˜**: æ— é™åˆ¶å¹¶å‘ï¼Œ30 ä¸ª Concept åŒæ—¶æ‰“å¼€ 30 ä¸ªæ•°æ®åº“ä¼šè¯

#### ä¿®æ”¹å
```python
async def _generate_content_parallel(...):
    # ğŸ”§ æ•°æ®åº“è¿æ¥é™åˆ¶ï¼šæœ€å¤š 5 ä¸ªå¹¶å‘æ•°æ®åº“æ“ä½œ
    # ä¸º FastAPI åº”ç”¨é¢„ç•™è¿æ¥ï¼Œé˜²æ­¢è¿æ¥æ± è€—å°½
    MAX_DB_CONCURRENT = 5
    db_semaphore = asyncio.Semaphore(MAX_DB_CONCURRENT)
    
    tasks = [
        generate_single_concept(..., db_semaphore=db_semaphore)
        for concept in concepts
    ]
    await asyncio.gather(*tasks, return_exceptions=True)
```
âœ… **æ•ˆæœ**: æœ€å¤š 5 ä¸ª Concept åŒæ—¶å†™å…¥æ•°æ®åº“ï¼Œä¸º FastAPI åº”ç”¨é¢„ç•™ 5-7 ä¸ªè¿æ¥

---

**æ–‡ä»¶**: `backend/app/tasks/concept_generator.py`

#### ä¿®æ”¹å‰
```python
async def generate_single_concept(...):
    # ç”Ÿæˆ Tutorialã€Resourceã€Quiz
    ...
    
    # ç«‹å³å†™å…¥æ•°æ®åº“
    async with safe_session_with_retry() as session:
        await tutorial_repo.save_tutorial(...)
        await resource_repo.save_resource_recommendation(...)
        await quiz_repo.save_quiz(...)
        await session.commit()
```
âŒ **é—®é¢˜**: æ— å¹¶å‘æ§åˆ¶ï¼Œ30 ä¸ª Concept åŒæ—¶è·å–æ•°æ®åº“è¿æ¥

#### ä¿®æ”¹å
```python
async def generate_single_concept(..., db_semaphore: asyncio.Semaphore):
    # ç”Ÿæˆ Tutorialã€Resourceã€Quiz
    ...
    
    # ğŸ”§ ä½¿ç”¨ä¿¡å·é‡é™åˆ¶å¹¶å‘æ•°æ®åº“è¿æ¥æ•°
    async with db_semaphore:
        async with safe_session_with_retry() as session:
            await tutorial_repo.save_tutorial(...)
            await resource_repo.save_resource_recommendation(...)
            await quiz_repo.save_quiz(...)
            await session.commit()
```
âœ… **æ•ˆæœ**: æ•°æ®åº“å†™å…¥å—ä¿¡å·é‡ä¿æŠ¤ï¼Œé˜²æ­¢è¿æ¥æ± è€—å°½

---

### ä¿®å¤ 2: å¢å¼ºè¿æ¥å…³é—­ä¿æŠ¤ï¼ˆå·²åœ¨ä¹‹å‰ä¿®å¤ï¼‰

**æ–‡ä»¶**: `backend/app/db/session.py`

#### é—®é¢˜
è¯·æ±‚å–æ¶ˆæ—¶ï¼ˆ`asyncio.CancelledError`ï¼‰ï¼Œ`session.close()` å¯èƒ½ä¹Ÿè¢«å–æ¶ˆï¼Œå¯¼è‡´è¿æ¥æœªå½’è¿˜åˆ°æ± ä¸­ã€‚

#### è§£å†³æ–¹æ¡ˆ
ä½¿ç”¨ `asyncio.shield()` ç¡®ä¿è¿æ¥å…³é—­ä¸å¯è¢«å–æ¶ˆï¼š

```python
@asynccontextmanager
async def safe_session():
    session = None
    request_cancelled = False
    
    try:
        session = AsyncSessionLocal()
        yield session
    except asyncio.CancelledError:
        request_cancelled = True
        logger.warning("db_session_request_cancelled")
        raise
    finally:
        if session is not None:
            # ğŸ›¡ï¸ shield ä¿æŠ¤ï¼šç¡®ä¿ close() ä¸€å®šä¼šå®Œæˆ
            await asyncio.shield(session.close())
```

åŒæ ·çš„ä¿®å¤ä¹Ÿåº”ç”¨åˆ° `safe_session_with_retry()`ã€‚

---

### ä¿®å¤ 3: é™ä½è¿æ¥æ± å¤§å°ï¼ˆé˜²æ­¢æœ¬åœ°å¼€å‘è¿‡åº¦å ç”¨ï¼‰

**æ–‡ä»¶**: `backend/app/config/settings.py`

#### ä¿®æ”¹å‰
```python
DB_POOL_SIZE = 40  # æœ¬åœ°å¼€å‘
DB_MAX_OVERFLOW = 20
```

#### ä¿®æ”¹å
```python
DB_POOL_SIZE = 10  # æœ¬åœ°å¼€å‘é»˜è®¤10ï¼ŒRailwayç”Ÿäº§ç¯å¢ƒå»ºè®®5
DB_MAX_OVERFLOW = 5  # æœ¬åœ°å¼€å‘é»˜è®¤5ï¼ŒRailwayç”Ÿäº§ç¯å¢ƒå»ºè®®3
```

**åŸå› **:
- ä¿¡å·é‡å·²é™åˆ¶å¹¶å‘æ•°æ®åº“æ“ä½œæ•°ä¸º 8
- é™ä½è¿æ¥æ± å¤§å°å¯é¿å…æœ¬åœ° PostgreSQL è¿æ¥æ•°è¿‡å¤š
- ç”Ÿäº§ç¯å¢ƒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼ˆRailway: 5+3ï¼‰

---

### ä¿®å¤ 4: å¢å¼ºè¿æ¥æ± ç›‘æ§

**æ–‡ä»¶**: `backend/app/db/session.py`

#### æ·»åŠ å®æ—¶å‘Šè­¦
```python
@event.listens_for(engine.sync_engine, "checkout")
def on_checkout(dbapi_connection, connection_record, connection_proxy):
    # âš ï¸ è¿æ¥æ± ä½¿ç”¨ç‡ç›‘æ§ï¼ˆå®æ—¶ï¼‰
    checked_out = pool.checkedout()
    max_connections = pool.size() + pool._max_overflow
    usage_ratio = checked_out / max_connections
    
    # ä½¿ç”¨ç‡è¶…è¿‡ 90% æ—¶å‘å‡ºé”™è¯¯çº§åˆ«è­¦å‘Š
    if usage_ratio > 0.9:
        logger.error(
            "db_pool_critical_usage",
            usage_ratio=round(usage_ratio * 100, 1),
            message=f"ğŸš¨ è¿æ¥æ± ä½¿ç”¨ç‡è¿‡é«˜ ({usage_ratio * 100:.1f}%)ï¼Œå³å°†è€—å°½",
        )
```

#### å¢å¼ºå¥åº·æ£€æŸ¥
```python
async def get_pool_status() -> dict:
    # è®¡ç®—è¿æ¥ä½¿ç”¨ç‡
    usage_ratio = checked_out / max_connections
    
    # âš ï¸ è¿æ¥æ± å‘Šè­¦ï¼šä½¿ç”¨ç‡è¶…è¿‡ 80% æ—¶è­¦å‘Š
    if usage_ratio > 0.8:
        logger.warning("db_pool_high_usage", usage_ratio=usage_ratio)
    
    return {
        "max_connections": max_connections,
        "usage_ratio": round(usage_ratio * 100, 2),
        ...
    }
```

---

## æŠ€æœ¯åŸç†

### ä¸ºä»€ä¹ˆä¿¡å·é‡å¯ä»¥è§£å†³é—®é¢˜ï¼Ÿ

1. **å¹¶å‘æ§åˆ¶**
   ```python
   db_semaphore = asyncio.Semaphore(8)  # æœ€å¤š 8 ä¸ªè®¸å¯
   
   async with db_semaphore:  # è·å–è®¸å¯ï¼ˆå¦‚æœæ— è®¸å¯åˆ™ç­‰å¾…ï¼‰
       async with safe_session_with_retry() as session:
           # å†™å…¥æ•°æ®åº“
           ...
   # é€€å‡ºæ—¶è‡ªåŠ¨é‡Šæ”¾è®¸å¯
   ```

2. **èµ„æºä¿æŠ¤**
   - 30 ä¸ª Concept å¹¶å‘ç”Ÿæˆï¼Œä½†åªæœ‰ 8 ä¸ªèƒ½åŒæ—¶æ‰“å¼€æ•°æ®åº“ä¼šè¯
   - å…¶ä»– 22 ä¸ªä»»åŠ¡åœ¨ `async with db_semaphore` å¤„ç­‰å¾…
   - å½“ä¸€ä¸ªä»»åŠ¡å®Œæˆå¹¶é‡Šæ”¾è®¸å¯åï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡æ‰èƒ½è·å–è®¸å¯

3. **è¿æ¥æ± å®¹é‡è®¡ç®—**
   ```
   DB_POOL_SIZE = 10
   DB_MAX_OVERFLOW = 5
   æ€»è¿æ¥æ•° = 15
   
   åˆ†é…ç­–ç•¥ï¼ˆä¿®å¤åï¼‰ï¼š
   - Celery Worker å†…å®¹ç”Ÿæˆ: 5 (ä¿¡å·é‡é™åˆ¶ï¼Œå  33%)
   - FastAPI åº”ç”¨æŸ¥è¯¢: 5-7 (å  33-47%)
   - å…¶ä»–æ“ä½œ + ç¼“å†²: 3-5 (å  20-33%)
   
   æ€»ä½¿ç”¨ â‰¤ 15 âœ…
   
   âš ï¸  å…³é”®æ”¹è¿›ï¼šé™ä½ Celery å¹¶å‘ä» 8 åˆ° 5ï¼Œä¸º FastAPI é¢„ç•™æ›´å¤šè¿æ¥
   ```

---

## éªŒè¯æ–¹æ³•

### 1. æœ¬åœ°æµ‹è¯•

```bash
# å¯åŠ¨ Celery Worker
cd backend
celery -A app.core.celery_app worker -Q content_generation --loglevel=info

# è§¦å‘å†…å®¹ç”Ÿæˆä»»åŠ¡
curl -X POST http://localhost:8000/api/v1/roadmaps/generate \
  -H "Content-Type: application/json" \
  -d '{"user_request": "Python Webå¼€å‘", "user_id": "test-user"}'

# è§‚å¯Ÿæ—¥å¿—
# âœ… æœŸæœ›çœ‹åˆ°: "content_generation_parallel_config: max_db_concurrent=8"
# âœ… æœŸæœ›çœ‹åˆ°: "db_semaphore_acquired" å’Œ "db_semaphore_released" äº¤æ›¿å‡ºç°
# âœ… æœŸæœ›çœ‹åˆ°: è¿æ¥æ± ä½¿ç”¨ç‡ < 90%
```

### 2. ç›‘æ§è¿æ¥æ± çŠ¶æ€

```bash
# å¥åº·æ£€æŸ¥ç«¯ç‚¹
curl http://localhost:8000/health

# æŸ¥çœ‹è¿æ¥æ± çŠ¶æ€
# æœŸæœ›è¾“å‡º:
{
  "database": {
    "status": "healthy",
    "pool": {
      "checked_out": 5,
      "max_connections": 15,
      "usage_ratio": 33.33
    }
  }
}
```

### 3. å‹åŠ›æµ‹è¯•

```python
# åˆ›å»º 50 ä¸ª Concept çš„è·¯çº¿å›¾
# éªŒè¯:
# - è¿æ¥æ± ä½¿ç”¨ç‡å³°å€¼ < 90%
# - æ—  TooManyConnectionsError
# - æœ€å¤š 8 ä¸ª Concept åŒæ—¶å†™å…¥æ•°æ®åº“
```

---

## å½±å“è¯„ä¼°

### æ€§èƒ½å½±å“

| åœºæ™¯ | ä¿®å¤å‰ | ä¿®å¤å | å½±å“ |
|------|--------|--------|------|
| 30 ä¸ª Concept å¹¶å‘ç”Ÿæˆ | å…¨éƒ¨åŒæ—¶æ‰§è¡Œ | æœ€å¤š 8 ä¸ªåŒæ—¶å†™å…¥æ•°æ®åº“ | æ•°æ®åº“å†™å…¥æ—¶é—´ç•¥å¢ï¼Œä½†æ€»ä½“æ—¶é—´å½±å“å°ï¼ˆç“¶é¢ˆåœ¨ LLM è°ƒç”¨ï¼‰ |
| è¿æ¥æ± ä½¿ç”¨ç‡ | å¯èƒ½ > 100%ï¼ˆå´©æºƒï¼‰ | < 80% | âœ… ç¨³å®š |
| æ•°æ®åº“å‹åŠ› | æé«˜ | å—æ§ | âœ… é™ä½ |

### ä¼˜åŠ¿

1. **ç¨³å®šæ€§æå‡**: å½»åº•è§£å†³è¿æ¥æ± è€—å°½é—®é¢˜
2. **å¯é¢„æµ‹æ€§**: è¿æ¥ä½¿ç”¨é‡å¯è®¡ç®—ï¼Œä¸å†å— Concept æ•°é‡å½±å“
3. **ç›‘æ§å¢å¼º**: å®æ—¶å‘Šè­¦ï¼Œæå‰å‘ç°è¿æ¥æ± é—®é¢˜
4. **æ‰©å±•æ€§**: å¯é€šè¿‡è°ƒæ•´ `MAX_DB_CONCURRENT` é€‚åº”ä¸åŒç¯å¢ƒ

### åŠ£åŠ¿

1. **æ€§èƒ½è½»å¾®ä¸‹é™**: æ•°æ®åº“å†™å…¥ä»å…¨å¹¶å‘æ”¹ä¸ºæœ€å¤š 8 å¹¶å‘
   - **ç¼“è§£**: LLM è°ƒç”¨æ˜¯ç“¶é¢ˆï¼ˆ5-10ç§’/Conceptï¼‰ï¼Œæ•°æ®åº“å†™å…¥åªå  100-200ms
   - **å®é™…å½±å“**: æ€»æ—¶é—´å¢åŠ  < 5%

---

## åç»­ä¼˜åŒ–å»ºè®®

### 1. åŠ¨æ€è°ƒæ•´ä¿¡å·é‡å¤§å°

```python
# æ ¹æ®è¿æ¥æ± å¤§å°åŠ¨æ€è®¡ç®—
DB_POOL_SIZE = settings.DB_POOL_SIZE
MAX_DB_CONCURRENT = max(1, int(DB_POOL_SIZE * 0.8))  # 80% åˆ©ç”¨ç‡
```

### 2. æ·»åŠ  Prometheus æŒ‡æ ‡

```python
db_semaphore_waiting = Gauge(
    'db_semaphore_waiting_tasks',
    'Number of tasks waiting for database semaphore'
)
```

### 3. æ‰¹é‡å†™å…¥ä¼˜åŒ–

å½“å‰æ¯ä¸ª Concept å•ç‹¬å†™å…¥æ•°æ®åº“ï¼Œå¯è€ƒè™‘æ‰¹é‡å†™å…¥ï¼š
```python
# ç´¯ç§¯ N ä¸ª Concept åæ‰¹é‡å†™å…¥
# å‡å°‘äº‹åŠ¡æ•°é‡ï¼Œæå‡ååé‡
```

---

## ä¿®å¤æ¼”è¿›

### ç¬¬ä¸€æ¬¡ä¿®å¤ï¼ˆMAX_DB_CONCURRENT = 8ï¼‰
- **æ—¶é—´**: 2025-01-01 åˆæ¬¡å°è¯•
- **é…ç½®**: `MAX_DB_CONCURRENT = 8`ï¼ˆpool_size * 0.8ï¼‰
- **é—®é¢˜**: FastAPI åº”ç”¨ä»ç„¶ä¼šé‡åˆ°è¿æ¥æ± è€—å°½
- **åŸå› **: æ²¡æœ‰è€ƒè™‘å¤šè¿›ç¨‹æ€»è¿æ¥æ•°

### ç¬¬äºŒæ¬¡ä¿®å¤ï¼ˆMAX_DB_CONCURRENT = 5ï¼‰
- **æ—¶é—´**: 2025-01-01 ä¼˜åŒ–è°ƒæ•´
- **é…ç½®**: `MAX_DB_CONCURRENT = 5`ï¼ˆpool_size * 0.5ï¼‰
- **é—®é¢˜**: ä»ç„¶æŠ¥é”™ `TooManyConnectionsError`
- **åŸå› **: é—®é¢˜æ ¹æºä¸æ˜¯ SQLAlchemy è¿æ¥æ± ï¼Œè€Œæ˜¯ PostgreSQL max_connections

### ç¬¬ä¸‰æ¬¡ä¿®å¤ï¼ˆå½»åº•ä¿®å¤ï¼‰â­ å½“å‰ç‰ˆæœ¬
- **æ—¶é—´**: 2025-01-01 æ ¹æœ¬åŸå› ä¿®å¤
- **å‘ç°**: é”™è¯¯ä¿¡æ¯ `"sorry, too many clients already"` æ¥è‡ª PostgreSQL æ•°æ®åº“ï¼Œä¸æ˜¯ SQLAlchemy
- **æ ¹å› åˆ†æ**:
  ```
  å½“å‰è¿›ç¨‹æ•°ç»Ÿè®¡ï¼š
  - FastAPI (uvicorn --workers 4): 4 ä¸ªè¿›ç¨‹
  - Celery logs (--concurrency=4 --pool=prefork): 5 ä¸ªè¿›ç¨‹
  - Celery content_generation (--concurrency=8 --pool=prefork): 9 ä¸ªè¿›ç¨‹
  - Celery workflow (--concurrency=2): 3 ä¸ªè¿›ç¨‹
  æ€»è®¡: 21 ä¸ªè¿›ç¨‹
  
  ä¿®å¤å‰é…ç½®ï¼š
  æ¯è¿›ç¨‹è¿æ¥æ±  = pool_size(10) + max_overflow(5) = 15
  æ€»è¿æ¥éœ€æ±‚ = 21 Ã— 15 = 315
  PostgreSQL max_connections = 100
  315 > 100 â†’ è¿æ¥è€—å°½ âŒ
  ```
- **ä¿®å¤é…ç½®**:
  ```python
  DB_POOL_SIZE = 2
  DB_MAX_OVERFLOW = 2
  MAX_DB_CONCURRENT = 3
  ```
- **ä¿®å¤åè®¡ç®—**:
  ```
  æ¯è¿›ç¨‹è¿æ¥æ±  = pool_size(2) + max_overflow(2) = 4
  æ€»è¿æ¥éœ€æ±‚ = 21 Ã— 4 = 84
  PostgreSQL max_connections = 100
  84 < 100 âœ… (é¢„ç•™ 16 ä¸ªç»™ psql/ç›‘æ§/å…¶ä»–)
  ```

### æ ¸å¿ƒåŸåˆ™

**ç¬¬ä¸€æ€§åŸç†ï¼šæ€»è¿æ¥æ•° < PostgreSQL max_connections**

```
æ€»è¿æ¥æ•° = è¿›ç¨‹æ•° Ã— (pool_size + max_overflow)

çº¦æŸæ¡ä»¶ï¼š
æ€»è¿æ¥æ•° < max_connections - é¢„ç•™è¿æ¥æ•°(çº¦10-20)

å…¬å¼æ¨å¯¼ï¼š
è¿›ç¨‹æ•° Ã— (pool_size + max_overflow) < 100 - 16
21 Ã— (pool_size + max_overflow) < 84
pool_size + max_overflow < 4

ç»“è®ºï¼š
pool_size = 2, max_overflow = 2 âœ…
```

---

## æ€»ç»“

æœ¬æ¬¡ä¿®å¤ä»ç¬¬ä¸€æ€§åŸç†å‡ºå‘ï¼Œè¯†åˆ«å‡º **æ— é™åˆ¶å¹¶å‘** æ˜¯å¯¼è‡´è¿æ¥æ± è€—å°½çš„æ ¹æœ¬åŸå› ã€‚é€šè¿‡å¼•å…¥ **ä¿¡å·é‡å¹¶å‘æ§åˆ¶**ï¼Œé…åˆ **asyncio.shield() è¿æ¥ä¿æŠ¤** å’Œ **è¿æ¥æ± ç›‘æ§å¢å¼º**ï¼Œæ„å»ºäº†ä¸€ä¸ªç¨³å®šå¯é çš„æ•°æ®åº“è¿æ¥ç®¡ç†æœºåˆ¶ã€‚

**æ ¸å¿ƒå…¬å¼ï¼ˆä¿®æ­£ç‰ˆï¼‰**:
```
MAX_DB_CONCURRENT â‰¤ pool_size * 0.5  (ä¸º FastAPI é¢„ç•™ 50%)
```

ç¡®ä¿å³ä½¿åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ˆCelery ç”Ÿæˆå†…å®¹ + FastAPI å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼‰ï¼Œä¹Ÿèƒ½ç•™å‡ºè¶³å¤Ÿçš„è¿æ¥æ± ç¼“å†²ï¼Œé¿å…ç³»ç»Ÿå´©æºƒã€‚

