# Content Generation æ—¥å¿—å±•ç¤ºè®¾è®¡æ–¹æ¡ˆ

## ğŸ“‹ éœ€æ±‚åˆ†æ

### ç”¨æˆ·éœ€æ±‚
1. **ä¸€ç›®äº†ç„¶**ï¼šæ¸…æ¥šçœ‹åˆ°æœ‰å“ªäº›å†…å®¹éœ€è¦ç”Ÿæˆ
2. **çŠ¶æ€æ˜ç¡®**ï¼šæ¯ä¸ªå†…å®¹çš„ç”ŸæˆçŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥/ç”Ÿæˆä¸­ï¼‰
3. **é”™è¯¯å¯è§**ï¼šå¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯åŸå› 
4. **æŒ‰éœ€åˆ·æ–°**ï¼šä¸ä¾èµ– WebSocketï¼Œé€šè¿‡åˆ·æ–°æŒ‰é’®æ›´æ–°çŠ¶æ€

### æŠ€æœ¯çº¦æŸ
- ä¸ä½¿ç”¨ WebSocket å®æ—¶è®¢é˜… Concept çŠ¶æ€
- é€šè¿‡ API è·å–æ‰§è¡Œæ—¥å¿—ï¼ˆ`GET /api/v1/tasks/{task_id}/logs`ï¼‰
- ä»æ—¥å¿—ä¸­æå–å†…å®¹ç”Ÿæˆç›¸å…³ä¿¡æ¯

---

## ğŸ¯ è®¾è®¡æ–¹æ¡ˆï¼šä¸‰å±‚åˆ†ç»„å¡ç‰‡è§†å›¾

### æ ¸å¿ƒæ€æƒ³
- **æŒ‰è·¯çº¿å›¾ç»“æ„å±•ç¤º**ï¼šStage -> Module -> Concept
- **çŠ¶æ€èšåˆ**ï¼šæ˜¾ç¤ºæ¯ä¸ªå±‚çº§çš„ç»Ÿè®¡ä¿¡æ¯
- **å¯æŠ˜å /å±•å¼€**ï¼šå‡å°‘ä¿¡æ¯è¿‡è½½
- **æ‰‹åŠ¨åˆ·æ–°**ï¼šç”¨æˆ·ä¸»åŠ¨åˆ·æ–°è·å–æœ€æ–°çŠ¶æ€

---

## ğŸ¨ UI è®¾è®¡

### æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Content Generation Overview          [â†» Refresh Status]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€ Stage 1: Fundamentals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“Š Progress: 5/6 concepts â€¢ 1 failed                         â”‚â”‚
â”‚ â”‚                                                               â”‚â”‚
â”‚ â”‚ â–¼ Module 1.1: Basic Techniques                               â”‚â”‚
â”‚ â”‚   â”œâ”€ âœ… Grip and Hold       [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â”‚   â”œâ”€ âœ… Footwork Basics     [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â”‚   â””â”€ âŒ Serving Mechanics   Error: Content policy violation  â”‚â”‚
â”‚ â”‚                              [Retry]                          â”‚â”‚
â”‚ â”‚                                                               â”‚â”‚
â”‚ â”‚ â–¼ Module 1.2: Court Awareness                                â”‚â”‚
â”‚ â”‚   â”œâ”€ âœ… Positioning         [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â”‚   â””â”€ âœ… Movement Patterns   [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€â”€ Stage 2: Advanced Skills â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“Š Progress: 8/9 concepts â€¢ 1 failed                         â”‚â”‚
â”‚ â”‚                                                               â”‚â”‚
â”‚ â”‚ â–¼ Module 2.1: Advanced Strokes                               â”‚â”‚
â”‚ â”‚   â”œâ”€ âœ… Smash Technique     [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â”‚   â”œâ”€ âœ… Drop Shot           [Tutorial] [Resources] [Quiz]    â”‚â”‚
â”‚ â”‚   â””â”€ âŒ Net Play            Error: API timeout               â”‚â”‚
â”‚ â”‚                              [Retry]                          â”‚â”‚
â”‚ â”‚   ...                                                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚ Last updated: 2 minutes ago                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ•°æ®ç»“æ„è®¾è®¡

### 1. ä»æ‰§è¡Œæ—¥å¿—æå–å†…å®¹ç”Ÿæˆä¿¡æ¯

```typescript
interface ConceptGenerationStatus {
  concept_id: string;
  concept_name: string;
  
  // ä¸‰ç§å†…å®¹ç±»å‹çš„çŠ¶æ€
  tutorial: {
    status: 'pending' | 'generating' | 'completed' | 'failed';
    error?: string;
    tutorial_id?: string;
    content_url?: string;
  };
  
  resources: {
    status: 'pending' | 'generating' | 'completed' | 'failed';
    error?: string;
    resources_id?: string;
    resources_count?: number;
  };
  
  quiz: {
    status: 'pending' | 'generating' | 'completed' | 'failed';
    error?: string;
    quiz_id?: string;
    questions_count?: number;
  };
}

interface ModuleGenerationStatus {
  module_id: string;
  module_name: string;
  concepts: ConceptGenerationStatus[];
  
  // ç»Ÿè®¡ä¿¡æ¯
  total_concepts: number;
  completed_concepts: number;
  failed_concepts: number;
}

interface StageGenerationStatus {
  stage_id: string;
  stage_name: string;
  modules: ModuleGenerationStatus[];
  
  // ç»Ÿè®¡ä¿¡æ¯
  total_concepts: number;
  completed_concepts: number;
  failed_concepts: number;
}

interface ContentGenerationOverview {
  stages: StageGenerationStatus[];
  last_updated: string;
  
  // å…¨å±€ç»Ÿè®¡
  total_concepts: number;
  completed_concepts: number;
  failed_concepts: number;
  progress_percentage: number;
}
```

### 2. æ—¥å¿—è§£æé€»è¾‘

```typescript
/**
 * ä»æ‰§è¡Œæ—¥å¿—ä¸­æå–å†…å®¹ç”ŸæˆçŠ¶æ€
 */
function parseContentGenerationStatus(
  logs: ExecutionLog[],
  roadmapFramework: RoadmapFramework
): ContentGenerationOverview {
  // 1. æŒ‰ log_type åˆ†ç±»æ—¥å¿—
  const tutorialLogs = logs.filter(log => 
    log.details?.log_type === 'tutorial_generation_completed' ||
    log.details?.log_type === 'tutorial_generation_failed'
  );
  
  const resourceLogs = logs.filter(log => 
    log.details?.log_type === 'resource_generation_completed' ||
    log.details?.log_type === 'resource_generation_failed'
  );
  
  const quizLogs = logs.filter(log => 
    log.details?.log_type === 'quiz_generation_completed' ||
    log.details?.log_type === 'quiz_generation_failed'
  );
  
  // 2. æ„å»º concept_id -> status æ˜ å°„
  const conceptStatusMap = new Map<string, ConceptGenerationStatus>();
  
  for (const stage of roadmapFramework.stages) {
    for (const module of stage.modules) {
      for (const concept of module.concepts) {
        // åˆå§‹åŒ–çŠ¶æ€
        conceptStatusMap.set(concept.concept_id, {
          concept_id: concept.concept_id,
          concept_name: concept.name,
          tutorial: { status: 'pending' },
          resources: { status: 'pending' },
          quiz: { status: 'pending' },
        });
        
        // ä»æ—¥å¿—ä¸­æ›´æ–°çŠ¶æ€
        updateConceptStatusFromLogs(
          conceptStatusMap.get(concept.concept_id)!,
          tutorialLogs,
          resourceLogs,
          quizLogs
        );
      }
    }
  }
  
  // 3. é‡æ–°ç»„ç»‡ä¸ºåˆ†å±‚ç»“æ„
  return buildHierarchicalStatus(roadmapFramework, conceptStatusMap);
}

/**
 * æ ¹æ®æ—¥å¿—æ›´æ–°æ¦‚å¿µçŠ¶æ€
 */
function updateConceptStatusFromLogs(
  status: ConceptGenerationStatus,
  tutorialLogs: ExecutionLog[],
  resourceLogs: ExecutionLog[],
  quizLogs: ExecutionLog[]
) {
  const conceptId = status.concept_id;
  
  // æ›´æ–° Tutorial çŠ¶æ€
  const tutorialLog = tutorialLogs.find(log => 
    log.details?.concept_id === conceptId
  );
  if (tutorialLog) {
    if (tutorialLog.details?.log_type === 'tutorial_generation_completed') {
      status.tutorial = {
        status: 'completed',
        tutorial_id: tutorialLog.details.tutorial_id,
        content_url: tutorialLog.details.content_url,
      };
    } else {
      status.tutorial = {
        status: 'failed',
        error: tutorialLog.details?.error || 'Unknown error',
      };
    }
  }
  
  // æ›´æ–° Resources çŠ¶æ€ï¼ˆç±»ä¼¼é€»è¾‘ï¼‰
  // æ›´æ–° Quiz çŠ¶æ€ï¼ˆç±»ä¼¼é€»è¾‘ï¼‰
}
```

---

## ğŸ¨ UI ç»„ä»¶è®¾è®¡

### 1. ContentGenerationOverviewï¼ˆä¸»å®¹å™¨ï¼‰

```typescript
interface ContentGenerationOverviewProps {
  taskId: string;
  roadmapId: string;
  initialLogs: ExecutionLog[];
}

export function ContentGenerationOverview({
  taskId,
  roadmapId,
  initialLogs,
}: ContentGenerationOverviewProps) {
  const [logs, setLogs] = useState(initialLogs);
  const [isRefreshing, setIsRefreshing] = useState(false);
  const [lastUpdated, setLastUpdated] = useState(new Date());
  
  // è·å–è·¯çº¿å›¾æ¡†æ¶
  const { data: roadmap } = useRoadmap(roadmapId);
  
  // è§£æå†…å®¹ç”ŸæˆçŠ¶æ€
  const overview = useMemo(() => {
    if (!roadmap) return null;
    return parseContentGenerationStatus(logs, roadmap.framework);
  }, [logs, roadmap]);
  
  // åˆ·æ–°çŠ¶æ€
  const handleRefresh = async () => {
    setIsRefreshing(true);
    try {
      const logsData = await getTaskLogs(taskId);
      setLogs(logsData.logs || []);
      setLastUpdated(new Date());
    } catch (error) {
      console.error('Failed to refresh logs:', error);
    } finally {
      setIsRefreshing(false);
    }
  };
  
  if (!overview) {
    return <div>Loading...</div>;
  }
  
  return (
    <Card className="p-6">
      {/* Header */}
      <div className="flex items-center justify-between mb-6">
        <div>
          <h3 className="text-lg font-semibold">Content Generation Overview</h3>
          <p className="text-sm text-muted-foreground mt-1">
            {overview.completed_concepts}/{overview.total_concepts} concepts completed
            {overview.failed_concepts > 0 && (
              <span className="text-red-600 ml-2">
                â€¢ {overview.failed_concepts} failed
              </span>
            )}
          </p>
        </div>
        
        <Button
          onClick={handleRefresh}
          disabled={isRefreshing}
          variant="outline"
          size="sm"
        >
          {isRefreshing ? (
            <>
              <Loader2 className="w-4 h-4 mr-2 animate-spin" />
              Refreshing...
            </>
          ) : (
            <>
              <RefreshCw className="w-4 h-4 mr-2" />
              Refresh Status
            </>
          )}
        </Button>
      </div>
      
      {/* Progress Bar */}
      <div className="mb-6">
        <div className="flex items-center justify-between text-sm mb-2">
          <span>Overall Progress</span>
          <span className="font-medium">{overview.progress_percentage}%</span>
        </div>
        <Progress value={overview.progress_percentage} />
      </div>
      
      {/* Stages */}
      <div className="space-y-4">
        {overview.stages.map((stage) => (
          <StageAccordion key={stage.stage_id} stage={stage} />
        ))}
      </div>
      
      {/* Last Updated */}
      <div className="mt-6 pt-4 border-t text-xs text-muted-foreground text-right">
        Last updated: {formatRelativeTime(lastUpdated)}
      </div>
    </Card>
  );
}
```

### 2. StageAccordionï¼ˆStage æŠ˜å é¢æ¿ï¼‰

```typescript
interface StageAccordionProps {
  stage: StageGenerationStatus;
}

function StageAccordion({ stage }: StageAccordionProps) {
  const [isOpen, setIsOpen] = useState(true);
  
  return (
    <div className="border rounded-lg overflow-hidden">
      {/* Stage Header */}
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="w-full px-4 py-3 bg-muted/50 hover:bg-muted/70 flex items-center justify-between transition-colors"
      >
        <div className="flex items-center gap-3">
          {isOpen ? (
            <ChevronDown className="w-4 h-4" />
          ) : (
            <ChevronRight className="w-4 h-4" />
          )}
          <h4 className="font-medium">{stage.stage_name}</h4>
        </div>
        
        <div className="flex items-center gap-3 text-sm">
          <Badge variant="outline">
            {stage.completed_concepts}/{stage.total_concepts} concepts
          </Badge>
          {stage.failed_concepts > 0 && (
            <Badge variant="destructive">
              {stage.failed_concepts} failed
            </Badge>
          )}
          <Progress 
            value={(stage.completed_concepts / stage.total_concepts) * 100} 
            className="w-24"
          />
        </div>
      </button>
      
      {/* Modules */}
      {isOpen && (
        <div className="p-4 space-y-3">
          {stage.modules.map((module) => (
            <ModuleSection key={module.module_id} module={module} />
          ))}
        </div>
      )}
    </div>
  );
}
```

### 3. ModuleSectionï¼ˆModule åˆ—è¡¨ï¼‰

```typescript
interface ModuleSectionProps {
  module: ModuleGenerationStatus;
}

function ModuleSection({ module }: ModuleSectionProps) {
  return (
    <div className="border-l-2 border-sage-200 pl-4">
      {/* Module Header */}
      <div className="flex items-center justify-between mb-2">
        <h5 className="text-sm font-medium text-muted-foreground">
          {module.module_name}
        </h5>
        <span className="text-xs text-muted-foreground">
          {module.completed_concepts}/{module.total_concepts}
        </span>
      </div>
      
      {/* Concepts */}
      <div className="space-y-2">
        {module.concepts.map((concept) => (
          <ConceptStatusCard key={concept.concept_id} concept={concept} />
        ))}
      </div>
    </div>
  );
}
```

### 4. ConceptStatusCardï¼ˆConcept çŠ¶æ€å¡ç‰‡ï¼‰

```typescript
interface ConceptStatusCardProps {
  concept: ConceptGenerationStatus;
}

function ConceptStatusCard({ concept }: ConceptStatusCardProps) {
  const hasFailure = 
    concept.tutorial.status === 'failed' ||
    concept.resources.status === 'failed' ||
    concept.quiz.status === 'failed';
  
  const allCompleted = 
    concept.tutorial.status === 'completed' &&
    concept.resources.status === 'completed' &&
    concept.quiz.status === 'completed';
  
  return (
    <div
      className={cn(
        'flex items-center justify-between p-3 rounded-md border transition-colors',
        allCompleted && 'bg-green-50/50 border-green-200',
        hasFailure && 'bg-red-50/50 border-red-200',
        !allCompleted && !hasFailure && 'bg-muted/30'
      )}
    >
      {/* Left: Concept Name & Status Icon */}
      <div className="flex items-center gap-2">
        {allCompleted && <CheckCircle2 className="w-4 h-4 text-green-600" />}
        {hasFailure && <XCircle className="w-4 h-4 text-red-600" />}
        {!allCompleted && !hasFailure && <Loader2 className="w-4 h-4 text-blue-600 animate-spin" />}
        
        <span className="text-sm font-medium">{concept.concept_name}</span>
      </div>
      
      {/* Right: Content Type Badges */}
      <div className="flex items-center gap-2">
        <ContentTypeBadge label="Tutorial" status={concept.tutorial.status} />
        <ContentTypeBadge label="Resources" status={concept.resources.status} />
        <ContentTypeBadge label="Quiz" status={concept.quiz.status} />
        
        {/* Retry Button (if failed) */}
        {hasFailure && (
          <Button size="sm" variant="ghost" className="h-7 px-2">
            <RefreshCw className="w-3 h-3" />
          </Button>
        )}
      </div>
      
      {/* Error Message (if any) */}
      {hasFailure && (
        <div className="col-span-2 mt-2 pt-2 border-t border-red-200">
          <p className="text-xs text-red-700">
            {concept.tutorial.error || concept.resources.error || concept.quiz.error}
          </p>
        </div>
      )}
    </div>
  );
}
```

### 5. ContentTypeBadgeï¼ˆå†…å®¹ç±»å‹çŠ¶æ€æ ‡è®°ï¼‰

```typescript
interface ContentTypeBadgeProps {
  label: string;
  status: 'pending' | 'generating' | 'completed' | 'failed';
}

function ContentTypeBadge({ label, status }: ContentTypeBadgeProps) {
  const config = {
    pending: { icon: Clock, className: 'bg-gray-100 text-gray-600' },
    generating: { icon: Loader2, className: 'bg-blue-100 text-blue-600 animate-pulse' },
    completed: { icon: CheckCircle2, className: 'bg-green-100 text-green-600' },
    failed: { icon: XCircle, className: 'bg-red-100 text-red-600' },
  }[status];
  
  const Icon = config.icon;
  
  return (
    <Badge variant="outline" className={cn('text-xs gap-1', config.className)}>
      <Icon className={cn('w-3 h-3', status === 'generating' && 'animate-spin')} />
      {label}
    </Badge>
  );
}
```

---

## ğŸ”„ åˆ·æ–°æœºåˆ¶è®¾è®¡

### 1. æ‰‹åŠ¨åˆ·æ–°

```typescript
// ç”¨æˆ·ç‚¹å‡» "Refresh Status" æŒ‰é’®
const handleRefresh = async () => {
  setIsRefreshing(true);
  try {
    // 1. é‡æ–°è·å–æ‰§è¡Œæ—¥å¿—
    const logsData = await getTaskLogs(taskId);
    setLogs(logsData.logs || []);
    
    // 2. é‡æ–°è§£æå†…å®¹ç”ŸæˆçŠ¶æ€
    const newOverview = parseContentGenerationStatus(logsData.logs, roadmap.framework);
    
    // 3. æ›´æ–°æ—¶é—´æˆ³
    setLastUpdated(new Date());
    
    toast.success('Status refreshed successfully');
  } catch (error) {
    toast.error('Failed to refresh status');
  } finally {
    setIsRefreshing(false);
  }
};
```

### 2. è‡ªåŠ¨åˆ·æ–°ï¼ˆå¯é€‰ï¼‰

```typescript
// å¦‚æœä»»åŠ¡çŠ¶æ€ä»ä¸º processingï¼Œå¯ä»¥å¯ç”¨è‡ªåŠ¨åˆ·æ–°
useEffect(() => {
  if (taskStatus !== 'processing') return;
  
  const interval = setInterval(() => {
    handleRefresh();
  }, 30000); // æ¯30ç§’åˆ·æ–°ä¸€æ¬¡
  
  return () => clearInterval(interval);
}, [taskStatus]);
```

---

## ğŸ“¦ é›†æˆåˆ° TaskDetail é¡µé¢

### ä¿®æ”¹ TaskDetail é¡µé¢

```typescript
export default function TaskDetailPage() {
  // ... ç°æœ‰ä»£ç  ...
  
  return (
    <div className="min-h-screen bg-background">
      {/* Header */}
      <div className="border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10">
        {/* ... ç°æœ‰ header ä»£ç  ... */}
      </div>

      {/* Main Content */}
      <div className="max-w-7xl mx-auto px-6 py-8 space-y-6">
        {/* Horizontal Stepper */}
        <HorizontalWorkflowStepper
          currentStep={taskInfo.current_step}
          status={taskInfo.status}
          selectedPhase={selectedPhaseFilter || undefined}
          onPhaseSelect={(phaseId) => {
            setSelectedPhaseFilter(selectedPhaseFilter === phaseId ? null : phaseId);
          }}
        />

        {/* âœ… æ–°å¢ï¼šContent Generation ä¸“å±è§†å›¾ */}
        {selectedPhaseFilter === 'content_generation' && taskInfo.roadmap_id && (
          <ContentGenerationOverview
            taskId={taskId}
            roadmapId={taskInfo.roadmap_id}
            initialLogs={executionLogs}
          />
        )}

        {/* åŸæœ‰çš„ Execution Logs Timelineï¼ˆå…¶ä»–é˜¶æ®µä½¿ç”¨ï¼‰ */}
        {selectedPhaseFilter !== 'content_generation' && (
          <ExecutionLogTimeline
            logs={executionLogs}
            selectedPhaseFilter={selectedPhaseFilter}
            taskStatus={taskInfo.status}
            roadmapId={taskInfo.roadmap_id}
            taskTitle={taskInfo.title}
            onShowAllLogs={() => setSelectedPhaseFilter(null)}
          />
        )}

        {/* Error Message (if failed) */}
        {/* ... ç°æœ‰é”™è¯¯å¤„ç†ä»£ç  ... */}
      </div>
    </div>
  );
}
```

---

## ğŸ¯ è®¾è®¡ä¼˜åŠ¿

### 1. **ç»“æ„åŒ–å±•ç¤º**
- æŒ‰ç…§è·¯çº¿å›¾çš„ä¸‰å±‚ç»“æ„ï¼ˆStage -> Module -> Conceptï¼‰ç»„ç»‡
- ç”¨æˆ·èƒ½æ¸…æ¥šçœ‹åˆ°æ•´ä¸ªè·¯çº¿å›¾çš„å†…å®¹ç”Ÿæˆæƒ…å†µ

### 2. **ä¿¡æ¯å±‚æ¬¡æ¸…æ™°**
- Stage çº§åˆ«ï¼šæ€»è§ˆç»Ÿè®¡
- Module çº§åˆ«ï¼šåˆ†ç»„å±•ç¤º
- Concept çº§åˆ«ï¼šè¯¦ç»†çŠ¶æ€

### 3. **çŠ¶æ€å¯è§†åŒ–**
- é¢œè‰²ç¼–ç ï¼šç»¿è‰²ï¼ˆæˆåŠŸï¼‰ã€çº¢è‰²ï¼ˆå¤±è´¥ï¼‰ã€è“è‰²ï¼ˆè¿›è¡Œä¸­ï¼‰ã€ç°è‰²ï¼ˆå¾…å¤„ç†ï¼‰
- å›¾æ ‡è¾…åŠ©ï¼šâœ… âŒ â³ ğŸ”„
- è¿›åº¦æ¡ï¼šç›´è§‚å±•ç¤ºå®Œæˆåº¦

### 4. **é”™è¯¯ä¿¡æ¯é€æ˜**
- å¤±è´¥çš„æ¦‚å¿µç›´æ¥æ˜¾ç¤ºé”™è¯¯åŸå› 
- æä¾›é‡è¯•æŒ‰é’®

### 5. **æ€§èƒ½ä¼˜åŒ–**
- ä¸ä¾èµ– WebSocketï¼ˆé¿å…é•¿è¿æ¥å¼€é”€ï¼‰
- æŒ‰éœ€åˆ·æ–°ï¼ˆç”¨æˆ·ä¸»åŠ¨æ§åˆ¶ï¼‰
- å¯æŠ˜å é¢æ¿ï¼ˆå‡å°‘åˆå§‹æ¸²æŸ“ï¼‰

---

## ğŸ“ å®ç°è®¡åˆ’

### Phase 1: æ•°æ®å±‚ï¼ˆ1-2å°æ—¶ï¼‰
1. âœ… å®šä¹‰ TypeScript æ¥å£
2. âœ… å®ç°æ—¥å¿—è§£æå‡½æ•° `parseContentGenerationStatus`
3. âœ… æ·»åŠ å•å…ƒæµ‹è¯•

### Phase 2: UI ç»„ä»¶ï¼ˆ2-3å°æ—¶ï¼‰
1. âœ… å®ç° `ContentGenerationOverview` ä¸»å®¹å™¨
2. âœ… å®ç° `StageAccordion` æŠ˜å é¢æ¿
3. âœ… å®ç° `ModuleSection` æ¨¡å—åˆ—è¡¨
4. âœ… å®ç° `ConceptStatusCard` çŠ¶æ€å¡ç‰‡
5. âœ… å®ç° `ContentTypeBadge` æ ‡è®°ç»„ä»¶

### Phase 3: é›†æˆï¼ˆ1å°æ—¶ï¼‰
1. âœ… ä¿®æ”¹ `TaskDetailPage`ï¼Œæ·»åŠ æ¡ä»¶æ¸²æŸ“
2. âœ… æµ‹è¯•äº¤äº’æµç¨‹
3. âœ… ä¼˜åŒ–æ ·å¼å’ŒåŠ¨ç”»

---

## ğŸ¨ è§†è§‰æ•ˆæœé¢„è§ˆ

### æˆåŠŸçš„ Concept

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Grip and Hold           [âœ… Tutorial] [âœ… Resources] [âœ… Quiz] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¤±è´¥çš„ Concept

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Serving Mechanics       [âŒ Tutorial] [âœ… Resources] [âœ… Quiz] â”‚
â”‚                                                            â”‚
â”‚ Error: Input data may contain inappropriate content       â”‚
â”‚ [ğŸ”„ Retry]                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”Ÿæˆä¸­çš„ Concept

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â³ Footwork Basics        [â³ Tutorial] [â³ Resources] [â³ Quiz] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### 1. æ‰¹é‡é‡è¯•
- åœ¨ Stage æˆ– Module çº§åˆ«æ·»åŠ "Retry All Failed"æŒ‰é’®

### 2. å¯¼å‡ºæŠ¥å‘Š
- ç”Ÿæˆ Content Generation Summaryï¼ˆPDF/JSONï¼‰

### 3. å®æ—¶è¿›åº¦ï¼ˆå¯é€‰ï¼‰
- å¦‚æœæœªæ¥éœ€è¦å®æ—¶è¿›åº¦ï¼Œå¯ä»¥åœ¨ç»„ä»¶å†…éƒ¨å¯ç”¨è½®è¯¢

### 4. è¿‡æ»¤å’Œæœç´¢
- æŒ‰çŠ¶æ€è¿‡æ»¤ï¼ˆåªæ˜¾ç¤ºå¤±è´¥çš„ï¼‰
- æŒ‰æ¦‚å¿µåç§°æœç´¢

---

## æ€»ç»“

è¿™ä¸ªè®¾è®¡æ–¹æ¡ˆçš„æ ¸å¿ƒä¼˜åŠ¿ï¼š
1. âœ… **ç»“æ„åŒ–**ï¼šå®Œå…¨éµå¾ªè·¯çº¿å›¾çš„ä¸‰å±‚æ¶æ„
2. âœ… **ç›´è§‚**ï¼šç”¨æˆ·ä¸€çœ¼èƒ½çœ‹åˆ°æ‰€æœ‰æ¦‚å¿µçš„çŠ¶æ€
3. âœ… **å¯æ§**ï¼šæ‰‹åŠ¨åˆ·æ–°ï¼Œç”¨æˆ·æŒæ§æ•°æ®æ›´æ–°æ—¶æœº
4. âœ… **å¯æ‰©å±•**ï¼šæ˜“äºæ·»åŠ æ‰¹é‡æ“ä½œã€è¿‡æ»¤ç­‰åŠŸèƒ½
5. âœ… **æ€§èƒ½å¥½**ï¼šä¸ä¾èµ– WebSocketï¼ŒæŒ‰éœ€åŠ è½½

è¿™ä¸ªæ–¹æ¡ˆå®Œç¾å¥‘åˆä½ çš„éœ€æ±‚ï¼šè®©ç”¨æˆ·ä¸€ç›®äº†ç„¶åœ°çŸ¥é“éƒ½ä¼šç”Ÿæˆå“ªäº› Content ä»¥åŠå„ä¸ª Content çš„çŠ¶æ€æ—¥å¿—ã€‚
