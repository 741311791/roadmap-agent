# âœ… ä¿®å¤éªŒæ”¶æ¸…å•

## ğŸ“‹ éªŒæ”¶å‰å‡†å¤‡

- [ ] ç¡®ä¿ git å·¥ä½œåŒºå¹²å‡€ï¼ˆæˆ–å·²æäº¤ç°æœ‰æ›´æ”¹ï¼‰
- [ ] å¤‡ä»½æ•°æ®åº“ï¼ˆå¦‚æœ‰é‡è¦æ•°æ®ï¼‰
- [ ] å‡†å¤‡å›æ»šæ–¹æ¡ˆï¼ˆè®°å½•å½“å‰ commit hashï¼‰

---

## ğŸ” åç«¯éªŒæ”¶

### 1. ä»£ç æ£€æŸ¥
- [ ] ç¡®è®¤ `backend/app/agents/intent_analyzer.py` å·²æ›´æ–°
- [ ] ç¡®è®¤ 9 ä¸ªæç¤ºè¯æ¨¡æ¿ (`backend/prompts/*.j2`) å·²æ›´æ–°
- [ ] è¿è¡Œè¯­æ³•æ£€æŸ¥ï¼š`cd backend && python -m py_compile app/agents/intent_analyzer.py`

### 2. å¯åŠ¨æœåŠ¡
```bash
cd backend
uvicorn app.main:app --reload
```
- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸï¼ˆç«¯å£ 8000ï¼‰
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡ï¼š`curl http://localhost:8000/health`
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸

### 3. åŠŸèƒ½æµ‹è¯•

#### Test Case 1: ç®€å•å­¦ä¹ ç›®æ ‡
- [ ] è®¿é—® http://localhost:3000/app/new
- [ ] è¾“å…¥å­¦ä¹ ç›®æ ‡ï¼š"å­¦ä¹  Python Web å¼€å‘"
- [ ] å½“å‰æ°´å¹³ï¼šIntermediate
- [ ] æ¯å‘¨æ—¶é—´ï¼š10 å°æ—¶
- [ ] ç‚¹å‡»ç”Ÿæˆ

**é¢„æœŸç»“æœ**:
```log
âœ… intent_analysis_started
âœ… intent_analysis_calling_llm
âœ… intent_analysis_llm_response content_length=...
âœ… intent_analysis_completed roadmap_id=python-web-...
âŒ æ²¡æœ‰ json_decode_error
```

#### Test Case 2: å¤æ‚å­¦ä¹ ç›®æ ‡ï¼ˆä¸­æ–‡ï¼‰
- [ ] è¾“å…¥å­¦ä¹ ç›®æ ‡ï¼š"ä»é›¶å¼€å§‹ç³»ç»Ÿå­¦ä¹  Langgraph å¼€å‘ï¼ŒæŒæ¡å…¶æ ¸å¿ƒæ¦‚å¿µä¸æ„å»ºå¤æ‚å·¥ä½œæµçš„èƒ½åŠ›"
- [ ] å½“å‰æ°´å¹³ï¼šBeginner
- [ ] æ¯å‘¨æ—¶é—´ï¼š15 å°æ—¶
- [ ] ç‚¹å‡»ç”Ÿæˆ

**é¢„æœŸç»“æœ**:
```log
âœ… intent_analysis_completed roadmap_id=langgraph-development-...
âœ… curriculum_design_started
âœ… åç»­æ­¥éª¤æ­£å¸¸æ‰§è¡Œ
```

#### Test Case 3: è‹±æ–‡å­¦ä¹ ç›®æ ‡
- [ ] è¾“å…¥å­¦ä¹ ç›®æ ‡ï¼š"Learn Kubernetes and cloud-native technologies"
- [ ] å½“å‰æ°´å¹³ï¼šAdvanced
- [ ] æ¯å‘¨æ—¶é—´ï¼š8 å°æ—¶
- [ ] ç‚¹å‡»ç”Ÿæˆ

**é¢„æœŸç»“æœ**:
```log
âœ… å…¨æµç¨‹æˆåŠŸå®Œæˆ
âœ… roadmap_id æ ¼å¼æ­£ç¡®ï¼ˆå¦‚ kubernetes-cloud-native-...ï¼‰
```

### 4. é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] æ–­å¼€æ•°æ®åº“è¿æ¥ â†’ åº”è¿”å›æ¸…æ™°é”™è¯¯ä¿¡æ¯
- [ ] æ— æ•ˆçš„ API Key â†’ åº”è¿”å› LLM è°ƒç”¨å¤±è´¥
- [ ] ç©ºå­¦ä¹ ç›®æ ‡ â†’ åº”è¢«å‰ç«¯æ‹¦æˆª

---

## ğŸŒ å‰ç«¯éªŒæ”¶

### 1. ä»£ç æ£€æŸ¥
- [ ] ç¡®è®¤ `frontend-next/lib/hooks/websocket/use-roadmap-generation-ws.ts` å·²æ›´æ–°
- [ ] è¿è¡Œ TypeScript æ£€æŸ¥ï¼š`cd frontend-next && npm run type-check`
- [ ] æ—  linter é”™è¯¯

### 2. å¯åŠ¨æœåŠ¡
```bash
cd frontend-next
npm run dev
```
- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸï¼ˆç«¯å£ 3000ï¼‰
- [ ] è®¿é—® http://localhost:3000 æ­£å¸¸

### 3. WebSocket è¿æ¥æµ‹è¯•

#### Test Case 1: å•ä¸€è¿æ¥éªŒè¯
1. [ ] æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. [ ] åˆ‡æ¢åˆ° Network æ ‡ç­¾
3. [ ] ç­›é€‰å™¨é€‰æ‹© "WS" (WebSocket)
4. [ ] è®¿é—® http://localhost:3000/app/new
5. [ ] å¡«å†™è¡¨å•å¹¶æäº¤

**é¢„æœŸç»“æœ**:
- [ ] âœ… åªæœ‰ **1 ä¸ª** WebSocket è¿æ¥
- [ ] âœ… çŠ¶æ€ä¸º "101 Switching Protocols"
- [ ] âœ… è¿æ¥ä¿æŒç¨³å®šï¼Œæ— æ–­å¼€é‡è¿

**æ§åˆ¶å°æ—¥å¿—**:
```
âœ… [WS] Connected (åªå‡ºç° 1 æ¬¡)
âœ… [WS] Message: connected
âœ… [WS] Message: current_status
âœ… [WS] Message: progress (å¤šæ¬¡)
âœ… [WS] Message: completed
âœ… [WS] Server closing connection: completed
```

#### Test Case 2: React Strict Mode æµ‹è¯•
- [ ] ç¡®è®¤ `next.config.js` ä¸­ `reactStrictMode: true`
- [ ] å¼€å‘æ¨¡å¼ä¸‹æµ‹è¯•ï¼ˆStrict Mode ä¼šåŒé‡æ¸²æŸ“ï¼‰
- [ ] WebSocket ä»ç„¶åªå»ºç«‹ 1 ä¸ªè¿æ¥ï¼ˆä¸å—åŒé‡æ¸²æŸ“å½±å“ï¼‰

#### Test Case 3: é¡µé¢åˆ·æ–°æµ‹è¯•
1. [ ] ç”Ÿæˆä»»åŠ¡è¿›è¡Œä¸­æ—¶åˆ·æ–°é¡µé¢
2. [ ] æ–°é¡µé¢åº”é‡æ–°å»ºç«‹ WebSocket è¿æ¥
3. [ ] æ—§è¿æ¥åº”æ­£å¸¸å…³é—­
4. [ ] ä¸åº”å‡ºç°è¿æ¥æ³„æ¼

### 4. è¿›åº¦æ˜¾ç¤ºæµ‹è¯•
- [ ] è¿›åº¦æ¡ä» 0% å¼€å§‹
- [ ] éšç€ä»»åŠ¡æ¨è¿›é€æ­¥æ›´æ–°ï¼ˆ20% â†’ 40% â†’ 70% â†’ 100%ï¼‰
- [ ] æ­¥éª¤æè¿°æ­£ç¡®æ˜¾ç¤ºï¼ˆå¦‚ "Analyzing learning goals..."ï¼‰
- [ ] å®Œæˆåè‡ªåŠ¨è·³è½¬åˆ°è·¯çº¿å›¾è¯¦æƒ…é¡µ

### 5. é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] åç«¯è¿”å›å¤±è´¥ â†’ æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- [ ] WebSocket è¿æ¥å¤±è´¥ â†’ è‡ªåŠ¨é™çº§åˆ°è½®è¯¢
- [ ] ç½‘ç»œæ–­å¼€ â†’ æ˜¾ç¤ºè¿æ¥æ–­å¼€æç¤º

---

## ğŸ”„ é›†æˆæµ‹è¯•

### End-to-End æµç¨‹
1. [ ] ç”¨æˆ·å¡«å†™å­¦ä¹ ç›®æ ‡
2. [ ] å‰ç«¯å‘èµ· HTTP POST è¯·æ±‚
3. [ ] åç«¯åˆ›å»ºä»»åŠ¡å¹¶è¿”å› task_id
4. [ ] å‰ç«¯å»ºç«‹ WebSocket è¿æ¥
5. [ ] åç«¯ Intent Analyzer æˆåŠŸè§£æ JSON
6. [ ] ä»»åŠ¡æµç¨‹ä¾æ¬¡æ‰§è¡Œå„ä¸ªæ­¥éª¤
7. [ ] å‰ç«¯å®æ—¶æ¥æ”¶è¿›åº¦æ›´æ–°
8. [ ] ä»»åŠ¡å®Œæˆï¼Œå‰ç«¯è‡ªåŠ¨è·³è½¬
9. [ ] è·¯çº¿å›¾è¯¦æƒ…é¡µæ­£ç¡®æ˜¾ç¤ºå†…å®¹

**æ•´ä¸ªæµç¨‹åº”è¯¥**:
- [ ] âœ… æ—  JSON è§£æé”™è¯¯
- [ ] âœ… æ—  WebSocket é‡è¿å¾ªç¯
- [ ] âœ… è¿›åº¦æ›´æ–°æµç•…
- [ ] âœ… ç”¨æˆ·ä½“éªŒè‰¯å¥½

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### 1. å¹¶å‘æµ‹è¯•
```bash
# è¿è¡Œ 3 ä¸ªå¹¶å‘ç”Ÿæˆä»»åŠ¡
for i in {1..3}; do
  curl -X POST http://localhost:8000/api/v1/generation/roadmap \
    -H "Content-Type: application/json" \
    -d @test_request.json &
done
```

**é¢„æœŸç»“æœ**:
- [ ] æ‰€æœ‰ä»»åŠ¡éƒ½èƒ½æ­£å¸¸å¤„ç†
- [ ] æ¯ä¸ªä»»åŠ¡çš„ WebSocket è¿æ¥äº’ä¸å¹²æ‰°
- [ ] åç«¯æ—¥å¿—æ— å¼‚å¸¸

### 2. å‹åŠ›æµ‹è¯•
```bash
# å¿«é€Ÿè¿ç»­å‘èµ· 10 ä¸ªè¯·æ±‚
./test_generation_fix.sh & # åŒæ—¶è¿è¡Œæµ‹è¯•è„šæœ¬
```

**é¢„æœŸç»“æœ**:
- [ ] ç³»ç»Ÿä¿æŒç¨³å®š
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] å“åº”æ—¶é—´åˆç†

---

## ğŸ› å›å½’æµ‹è¯•

### ç¡®ä¿æœªç ´åç°æœ‰åŠŸèƒ½
- [ ] è·¯çº¿å›¾è¯¦æƒ…é¡µæ­£å¸¸æ˜¾ç¤º
- [ ] æ•™ç¨‹å†…å®¹æ­£å¸¸åŠ è½½
- [ ] æµ‹éªŒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] èµ„æºæ¨èæ­£å¸¸æ˜¾ç¤º
- [ ] ç”¨æˆ·é…ç½®æ­£å¸¸ä¿å­˜

---

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

### éƒ¨ç½²åæŒç»­ç›‘æ§

#### å…³é”®æŒ‡æ ‡
- [ ] JSON è§£æé”™è¯¯ç‡ < 1%
- [ ] WebSocket è¿æ¥æˆåŠŸç‡ > 99%
- [ ] ä»»åŠ¡æˆåŠŸç‡æ¢å¤åˆ°æ­£å¸¸æ°´å¹³
- [ ] å¹³å‡ç”Ÿæˆæ—¶é—´ < 5 åˆ†é’Ÿ

#### æ—¥å¿—ç›‘æ§
```bash
# ç›‘æ§ JSON è§£æé”™è¯¯ï¼ˆåº”è¯¥ä¸º 0ï¼‰
grep "json_decode_error" backend/logs/app.log | wc -l

# ç›‘æ§ WebSocket è¿æ¥æ•°ï¼ˆæ¯ä¸ªä»»åŠ¡åº”è¯¥ <= 2ï¼‰
grep "websocket_connected" backend/logs/app.log | wc -l
```

---

## âœ… æœ€ç»ˆéªŒæ”¶ç­¾å­—

### æŠ€æœ¯éªŒæ”¶
- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ

### äº§å“éªŒæ”¶
- [ ] ç”¨æˆ·æµç¨‹å®Œæ•´
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] å“åº”é€Ÿåº¦æ»¡æ„
- [ ] æ— æ˜æ˜¾ Bug

### éƒ¨ç½²å‡†å¤‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] å›æ»šæ–¹æ¡ˆå·²å‡†å¤‡
- [ ] ç›‘æ§å·²é…ç½®
- [ ] å›¢é˜Ÿå·²é€šçŸ¥

---

## ğŸš€ éƒ¨ç½²

### éƒ¨ç½²å‰æœ€åæ£€æŸ¥
```bash
# 1. ç¡®è®¤æ‰€æœ‰æ–‡ä»¶å·²æäº¤
git status

# 2. è¿è¡Œå¿«é€Ÿæµ‹è¯•
./test_generation_fix.sh

# 3. ç¡®è®¤æµ‹è¯•é€šè¿‡
echo "æµ‹è¯•ç»“æœ: [å¡«å†™]"
```

### éƒ¨ç½²æ­¥éª¤
1. [ ] å¤‡ä»½å½“å‰ç‰ˆæœ¬ï¼ˆè®°å½• commit hashï¼‰
2. [ ] éƒ¨ç½²åç«¯ï¼ˆé‡å¯åç«¯æœåŠ¡ï¼‰
3. [ ] éƒ¨ç½²å‰ç«¯ï¼ˆé‡æ–°æ„å»ºå¹¶é‡å¯ï¼‰
4. [ ] å†’çƒŸæµ‹è¯•ï¼ˆè¿è¡Œ 1 ä¸ªå®Œæ•´ç”Ÿæˆæµç¨‹ï¼‰
5. [ ] ç›‘æ§å…³é”®æŒ‡æ ‡ï¼ˆæŒç»­ 1 å°æ—¶ï¼‰

### å›æ»šè§¦å‘æ¡ä»¶
- [ ] JSON è§£æé”™è¯¯ç‡ > 5%
- [ ] WebSocket è¿æ¥å¤±è´¥ç‡ > 10%
- [ ] ä»»åŠ¡æˆåŠŸç‡ä¸‹é™ > 20%
- [ ] ç”¨æˆ·æŠ•è¯‰å¢åŠ 

---

## ğŸ“ éªŒæ”¶ç»“è®º

**æµ‹è¯•äºº**: _______________  
**æµ‹è¯•æ—¥æœŸ**: _______________  
**éªŒæ”¶ç»“æœ**: [ ] é€šè¿‡ / [ ] ä¸é€šè¿‡  
**å¤‡æ³¨**: _______________________________________________

---

**ç­¾å­—**: _______________  
**æ—¥æœŸ**: _______________

---

## é™„å½•: å¿«é€ŸéªŒè¯å‘½ä»¤

```bash
# åç«¯å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# å¿«é€Ÿç”Ÿæˆæµ‹è¯•
./test_generation_fix.sh

# æŸ¥çœ‹åç«¯æ—¥å¿—ï¼ˆæœ€è¿‘ 100 è¡Œï¼‰
tail -100 backend/logs/app.log

# æŸ¥çœ‹ JSON è§£æé”™è¯¯æ•°ï¼ˆåº”è¯¥æ˜¯ 0ï¼‰
grep "json_decode_error" backend/logs/app.log | wc -l

# æŸ¥çœ‹ WebSocket è¿æ¥æ•°
grep "websocket_connected" backend/logs/app.log | tail -10
```

