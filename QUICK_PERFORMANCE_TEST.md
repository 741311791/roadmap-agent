# å¿«é€Ÿæ€§èƒ½éªŒè¯æŒ‡å—

## ğŸš€ ç«‹å³éªŒè¯ä¼˜åŒ–æ•ˆæœ

### æ­¥éª¤ 1: æ¸…ç©ºç¼“å­˜é‡å¯
```bash
cd frontend-next

# æ¸…ç©º Next.js ç¼“å­˜
rm -rf .next

# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ­¥éª¤ 2: è§‚å¯Ÿç¼–è¯‘æ—¥å¿—
è®¿é—® `http://localhost:3000/new`ï¼Œè§‚å¯Ÿç»ˆç«¯è¾“å‡ºï¼š

**ä¼˜åŒ–å‰çš„æ—¥å¿—**:
```
â—‹ Compiling /new ...
âœ“ Compiled /new in 8s (1140 modules)  âŒ
```

**ä¼˜åŒ–åé¢„æœŸæ—¥å¿—**:
```
â—‹ Compiling /new ...
âœ“ Compiled /new in 2-3s (300-400 modules)  âœ…
```

### æ­¥éª¤ 3: æ£€æŸ¥æ§åˆ¶å°
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)ï¼Œè§‚å¯Ÿï¼š

**âœ… åº”è¯¥çœ‹åˆ°**:
- `[AuthGuard] Checking auth for path: /new`
- `[WS] Connected` (å¦‚æœè§¦å‘ç”Ÿæˆ)
- æ—  "user aborted request" é”™è¯¯

**âŒ ä¸åº”è¯¥çœ‹åˆ°**:
- é‡å¤çš„ API è¯·æ±‚
- WebSocket è¿æ¥é”™è¯¯
- è¯·æ±‚ä¸­æ­¢è­¦å‘Š

### æ­¥éª¤ 4: ç½‘ç»œé¢æ¿æ£€æŸ¥
1. æ‰“å¼€ Network é¢æ¿
2. åˆ·æ–°é¡µé¢
3. æ£€æŸ¥ï¼š
   - JS bundle å¤§å° (åº”è¯¥ <1MB)
   - å­—ä½“æ–‡ä»¶æ˜¯å¦é¢„åŠ è½½
   - æ— é‡å¤è¯·æ±‚

### æ­¥éª¤ 5: Lighthouse æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
npm run start

# åœ¨æ–°ç»ˆç«¯è¿è¡Œ Lighthouse
npx lighthouse http://localhost:3000/new --view
```

**é¢„æœŸåˆ†æ•°**:
- Performance: >80
- Best Practices: >90
- Accessibility: >90

---

## ğŸ“Š å¯¹æ¯”éªŒè¯è¡¨

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | å½“å‰å€¼ | ç›®æ ‡å€¼ | çŠ¶æ€ |
|------|--------|--------|--------|------|
| ç¼–è¯‘æ—¶é—´ | 8s | ___ | <3s | â³ |
| æ¨¡å—æ•° | 1140 | ___ | <400 | â³ |
| è¯·æ±‚ä¸­æ­¢ | å¤šæ¬¡ | ___ | 0 | â³ |
| é¦–å± bundle | ~2MB | ___ | <600KB | â³ |

---

## ğŸ› å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜ 1: ç¼–è¯‘æ—¶é—´ä»ç„¶å¾ˆé•¿
**å¯èƒ½åŸå› **: ç¼“å­˜æœªæ¸…ç©º
```bash
rm -rf .next node_modules/.cache
npm run dev
```

### é—®é¢˜ 2: æ¨¡å—æ•°æ²¡æœ‰å‡å°‘
**æ£€æŸ¥**: ç¡®è®¤ `page.tsx` æ˜¯æœåŠ¡ç«¯ç»„ä»¶
```typescript
// âœ… æ­£ç¡®ï¼špage.tsx æ²¡æœ‰ 'use client'
export default async function NewRoadmapPage() {
  return <NewRoadmapClient />;
}

// âŒ é”™è¯¯ï¼špage.tsx æœ‰ 'use client'
'use client';
export default function NewRoadmapPage() { ... }
```

### é—®é¢˜ 3: TypeScript é”™è¯¯
```bash
npm run type-check
```
å¦‚æœ‰é”™è¯¯ï¼Œè¯·æŠ¥å‘Šå…·ä½“é”™è¯¯ä¿¡æ¯ã€‚

---

## âœ… éªŒè¯å®Œæˆæ ‡å‡†

å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œå¯ä»¥è®¤ä¸ºä¼˜åŒ–æˆåŠŸï¼š
- [x] ç¼–è¯‘æ—¶é—´ <3ç§’
- [x] æ¨¡å—æ•° <400
- [x] æ— è¯·æ±‚ä¸­æ­¢é”™è¯¯
- [x] TypeScript æ— é”™è¯¯
- [x] é¡µé¢åŠŸèƒ½æ­£å¸¸

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿ** æ‰§è¡Œæ­¥éª¤ 1 å¼€å§‹éªŒè¯ï¼ ğŸš€

